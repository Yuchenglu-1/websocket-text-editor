<!-- logback-spring.xml -->
<configuration>
    <include resource="org/springframework/boot/logging/logback/base.xml"/>

    <!-- 定义一个输出到控制台的 Appender，使用 Logstash 的 JSON 编码器 -->
    <appender name="STDOUT_JSON" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="net.logstash.logback.encoder.LogstashEncoder"/>
    </appender>

    <!-- root logger 的配置 -->
    <root level="INFO">
        <!-- 将我们定义的 JSON Appender 添加到 root logger -->
        <!-- 这会让应用的所有日志都以 JSON 格式输出到控制台 -->
        <appender-ref ref="STDOUT_JSON"/>
    </root>
</configuration>